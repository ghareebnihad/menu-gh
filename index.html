<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Semele Aqarat - Modern Lüks İlanlar</title>
  <style>
    /* Reset */
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #e3ebf8;
      margin: 0;
      padding: 90px 15px 100px;
      color: #222;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    /* HEADER / ADMIN BAR */
    #adminBar {
      position: fixed;
      top: 0; left: 0; right: 0;
      height: 70px;
      background: #273c75;
      color: #f0f4f8;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 30px;
      z-index: 10000;
      box-shadow: 0 3px 12px rgba(39, 60, 117, 0.7);
      font-weight: 600;
      user-select: none;
      gap: 12px;
      flex-wrap: wrap;
    }
    /* Sol taraf şirket bilgileri */
    #companyInfo {
      display: flex;
      align-items: center;
      gap: 18px;
      min-width: 220px;
      flex-shrink: 0;
    }
    /* Logo şekli */
    #companyLogo {
      width: 48px;
      height: 48px;
      background: #273c75;
      border-radius: 12px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 28px;
      font-weight: 700;
      color: #dff3ff;
      font-family: 'Segoe UI Black', Tahoma, Geneva, Verdana, sans-serif;
      user-select: none;
      box-shadow: none;
    }
    /* Şirket metinleri */
    #companyTexts {
      display: flex;
      flex-direction: column;
      line-height: 1.2;
      font-size: 14.5px;
      color: #dff3ff;
      text-shadow: none;
    }
    #companyTexts span {
      font-weight: 500;
      white-space: nowrap;
    }
    #companyTexts .companyName {
      font-size: 19px;
      font-weight: 700;
      letter-spacing: 0.04em;
      color: #e6f0ff;
    }
    /* Sağ taraf giriş ve butonlar */
    #rightPanel {
      display: flex;
      gap: 14px;
      align-items: center;
      flex-wrap: wrap;
      justify-content: flex-end;
      flex-grow: 1;
      min-width: 260px;
    }
    #loginForm {
      display: flex;
      gap: 12px;
    }
    #loginForm input {
      height: 36px;
      border-radius: 8px;
      border: 1.5px solid #a4bad4;
      padding: 0 14px;
      font-size: 15px;
      outline: none;
      font-weight: 500;
      min-width: 140px;
      transition: border-color 0.3s ease;
      background: #f0f4f8;
      color: #222;
    }
    #loginForm input:focus {
      border-color: #556b2f;
    }
    #loginForm button {
      cursor: pointer;
      border: none;
      border-radius: 10px;
      padding: 11px 22px;
      font-weight: 600;
      font-size: 15px;
      color: white;
      background-color: #556b2f;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      box-shadow: none;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      letter-spacing: 0.03em;
    }
    #loginForm button:hover {
      background-color: #40551d;
      box-shadow: none;
    }
    #logoutBtn, #newIlanBtn {
      cursor: pointer;
      border: none;
      border-radius: 10px;
      padding: 11px 22px;
      font-weight: 600;
      font-size: 15px;
      color: white;
      box-shadow: none;
      transition: background-color 0.3s ease;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      letter-spacing: 0.03em;
    }
    #logoutBtn {
      background-color: #b23e3e;
    }
    #logoutBtn:hover {
      background-color: #7a2929;
    }
    #newIlanBtn {
      background-color: #556b2f;
    }
    #newIlanBtn:hover {
      background-color: #40551d;
    }

    main {
      max-width: 1200px;
      margin: 0 auto;
      flex-grow: 1;
    }
    #ilanlar {
      display: flex;
      flex-wrap: wrap;
      gap: 26px;
      justify-content: center;
      padding-bottom: 40px;
    }
    .ilan-karti {
      background: #f0f4f8;
      width: 300px;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.35s ease;
      cursor: pointer;
      font-weight: 600;
      position: relative;
    }
    .ilan-karti:hover {
      transform: translateY(-8px);
      box-shadow: 0 14px 26px rgba(85, 107, 47, 0.3);
    }
    .ilan-karti img {
      width: 100%;
      height: 190px;
      object-fit: cover;
      border-bottom: 4px solid #273c75;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
      transition: transform 0.35s ease;
    }
    .ilan-karti:hover img {
      transform: scale(1.05);
    }
    /* Satıldı kaplaması */
    .sold-overlay {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(4px);
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 20px;
  pointer-events: none;
  user-select: none;
  z-index: 10;
  transition: background-color 0.3s ease;
}

.sold-overlay span {
  font-size: 36px;
  font-weight: 700;
  color: #fff;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  padding: 8px 28px;
  border: 2px solid rgba(255, 255, 255, 0.8);
  border-radius: 40px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  user-select: none;
  transform: rotate(-12deg);
}

    .ilan-karti.sold {
      background-color: #b0b0b0;
      cursor: default;
    }

    .ilan-icerik {
      padding: 22px 24px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      color: #1e293b;
    }
    .ilan-icerik h3 {
      margin: 0 0 14px;
      font-size: 22px;
      color: #273c75;
      line-height: 1.1;
      letter-spacing: 0.02em;
      text-transform: capitalize;
    }
    .ilan-icerik p {
      margin: 0 0 16px;
      color: #475569;
      font-size: 16px;
      line-height: 1.4;
      flex-grow: 1;
      font-weight: 500;
    }
    .fiyat-alan {
      font-weight: 700;
      font-size: 17px;
      color: #556b2f;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: auto;
      letter-spacing: 0.02em;
    }
    /* Detay görünümü */
    #detailView {
      max-width: 800px;
      margin: 40px auto;
      background: #f0f4f8;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      padding: 20px;
      display: none;
      flex-direction: column;
      position: relative;
    }
    #detailView img {
      max-width: 100%;
      border-radius: 12px;
      margin-bottom: 16px;
      object-fit: cover;
    }
    #detailView h2 {
      margin: 0 0 12px;
      color: #273c75;
      font-size: 26px;
    }
    #detailView p {
      font-size: 18px;
      color: #475569;
      line-height: 1.5;
      margin-bottom: 16px;
    }
    #detailView .fiyat-alan {
      font-size: 20px;
      color: #556b2f;
      font-weight: 700;
      margin-bottom: 20px;
    }
    #backBtn {
      cursor: pointer;
      background: #556b2f;
      color: white;
      border: none;
      padding: 10px 20px;
      font-weight: 600;
      border-radius: 10px;
      align-self: flex-start;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    #backBtn:hover {
      background-color: #40551d;
    }

    /* Admin edit modal */
    #editModal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      border-radius: 14px;
      box-shadow: 0 0 25px rgba(0,0,0,0.3);
      padding: 20px 30px;
      width: 320px;
      display: none;
      z-index: 11000;
      flex-direction: column;
      gap: 10px;
    }
    #editModal label {
      font-weight: 600;
      font-size: 14px;
      margin-bottom: 4px;
    }
    #editModal input[type="text"],
    #editModal textarea,
    #editModal input[type="number"] {
      width: 100%;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1.5px solid #a4bad4;
      font-size: 15px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      resize: vertical;
    }
    #editModal textarea {
      min-height: 60px;
    }
    #editModal input[type="file"] {
      padding: 3px;
    }
    #editModal .checkbox-label {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      margin-top: 8px;
    }
    #editModal button {
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    #saveBtn {
      background-color: #556b2f;
      color: white;
    }
    #saveBtn:hover {
      background-color: #40551d;
    }
    #cancelBtn {
      background-color: #b23e3e;
      color: white;
      margin-left: 10px;
    }
    #cancelBtn:hover {
      background-color: #7a2929;
    }

    /* Overlay for modal */
    #modalOverlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.35);
      z-index: 10900;
      display: none;
    }

    /* Responsive */
    @media (max-width: 800px) {
      body {
        padding-top: 120px;
      }
      #adminBar {
        flex-direction: column;
        height: auto;
        padding: 15px 20px;
        gap: 15px;
      }
      #companyInfo {
        min-width: auto;
        justify-content: center;
        width: 100%;
      }
      #companyTexts {
        text-align: center;
      }
      #rightPanel {
        justify-content: center;
        width: 100%;
        min-width: auto;
      }
      #loginForm input {
        min-width: 120px;
        font-size: 14px;
      }
      #loginForm button,
      #logoutBtn,
      #newIlanBtn {
        padding: 9px 18px;
        font-size: 14px;
      }
      #editModal {
        width: 90%;
        padding: 15px 20px;
      }
    }
  </style>
</head>
<body>

  <div id="adminBar">
    <div id="companyInfo" aria-label="Şirket Bilgileri">
      <div id="companyLogo" aria-hidden="true">SA</div>
      <div id="companyTexts">
        <span class="companyName"> Aqarat Semel</span>
        <span>Adres: Semel</span>
        <span>No. 0750 111 1222</span>
      </div>
    </div>

    <div id="rightPanel">
      <button id="newIlanBtn" style="display:none;">Yeni İlan Ekle</button>
      <form id="loginForm" aria-label="Giriş Formu">
        <input type="text" id="username" placeholder="Kullanıcı Adı" autocomplete="off" required />
        <input type="password" id="password" placeholder="Şifre" autocomplete="off" required />
        <button type="submit">Giriş</button>
      </form>
      <button id="logoutBtn" style="display:none;">Çıkış Yap</button>
    </div>
  </div>

  <main>
    <section id="ilanlar" aria-live="polite" aria-label="İlanlar Listesi"></section>

    <!-- Detay görünüm -->
    <section id="detailView" role="dialog" aria-modal="true" aria-labelledby="detailTitle" tabindex="-1">
      <button id="backBtn" aria-label="İlanlara Geri Dön">Geri</button>
      <h2 id="detailTitle"></h2>
      <img id="detailImg" alt="" />
      <p id="detailDesc"></p>
      <div class="fiyat-alan" id="detailFiyatAlan"></div>
      <div style="font-weight:600; font-size:16px; color:#556b2f;" id="detailAlan"></div>
      <div style="margin-top:15px;">
        <img id="detailAdditionalImg" alt="" style="max-width:100%; border-radius:12px; display:none; margin-top:10px;" />
      </div>
    </section>
  </main>

  <!-- Admin edit modal -->
  <div id="modalOverlay"></div>
  <div id="editModal" role="dialog" aria-modal="true" aria-labelledby="editModalTitle" tabindex="-1">
    <h3 id="editModalTitle">İlan Düzenle</h3>
    <label for="editTitle">Başlık</label>
    <input type="text" id="editTitle" />
    <label for="editDescription">Açıklama</label>
    <textarea id="editDescription"></textarea>
    <label for="editFiyat">Fiyat (TL)</label>
    <input type="number" id="editFiyat" min="0" />
    <label for="editAlan">Alan (m²)</label>
    <input type="number" id="editAlan" min="0" />
    <label for="editFoto">Fotoğraf Yükle</label>
    <input type="file" id="editFoto" accept="image/*" />
    <label class="checkbox-label"><input type="checkbox" id="editSold" /> Satıldı</label>
    <div style="display:flex; justify-content:flex-end; margin-top: 15px;">
      <button id="saveBtn">Kaydet</button>
      <button id="cancelBtn">İptal</button>
    </div>
  </div>

  <footer>
    <div>Developed By Ghareeb</div>
  </footer>

  <script>
    // Sabit admin bilgisi
const adminUser = "admin";
const adminPass = "1234";

// Elementler
const loginForm = document.getElementById("loginForm");
const logoutBtn = document.getElementById("logoutBtn");
const newIlanBtn = document.getElementById("newIlanBtn");
const ilanlarEl = document.getElementById("ilanlar");

const detailView = document.getElementById("detailView");
const backBtn = document.getElementById("backBtn");
const detailTitle = document.getElementById("detailTitle");
const detailImg = document.getElementById("detailImg");
const detailDesc = document.getElementById("detailDesc");
const detailFiyatAlan = document.getElementById("detailFiyatAlan");
const detailAlan = document.getElementById("detailAlan");
const detailAdditionalImg = document.getElementById("detailAdditionalImg");

const editModal = document.getElementById("editModal");
const modalOverlay = document.getElementById("modalOverlay");
const editTitle = document.getElementById("editTitle");
const editDescription = document.getElementById("editDescription");
const editFiyat = document.getElementById("editFiyat");
const editAlan = document.getElementById("editAlan");
const editFoto = document.getElementById("editFoto");
const editSold = document.getElementById("editSold");
const saveBtn = document.getElementById("saveBtn");
const cancelBtn = document.getElementById("cancelBtn");

let ilanlar = [
  {
    id: 1,
    title: "Modern Lüks Daire",
    description: "3+1, havuzlu site içinde, şehir merkezinde.",
    fiyat: 850000,
    alan: 140,
    photos: [],
    sold: false,
  },
  {
    id: 2,
    title: "Bahçeli Villa",
    description: "Geniş bahçesiyle müstakil villa, şehir dışında.",
    fiyat: 1200000,
    alan: 220,
    photos: [],
    sold: false,
  },
];

let loggedIn = false;
let editingIlanId = null;

function renderIlanlar() {
  ilanlarEl.innerHTML = "";
  ilanlar.forEach((ilan) => {
    const card = document.createElement("div");
    card.className = "ilan-karti";
    if (ilan.sold) card.classList.add("sold");

    const mainPhoto = ilan.photos.length ? ilan.photos[0] : "";
    const img = document.createElement("img");
    img.src = mainPhoto || "https://via.placeholder.com/300x190?text=Fotoğraf+Yok";
    img.alt = ilan.title;
    card.appendChild(img);

    if (ilan.sold) {
      const soldOverlay = document.createElement("div");
      soldOverlay.className = "sold-overlay";
      soldOverlay.innerHTML = "<span>Satıldı</span>";
      card.appendChild(soldOverlay);
    }

    const content = document.createElement("div");
    content.className = "ilan-icerik";

    const title = document.createElement("h3");
    title.textContent = ilan.title;
    content.appendChild(title);

    const desc = document.createElement("p");
    desc.textContent = ilan.description;
    content.appendChild(desc);

    const fiyatAlanDiv = document.createElement("div");
    fiyatAlanDiv.className = "fiyat-alan";
    fiyatAlanDiv.textContent = `Fiyat: ${ilan.fiyat.toLocaleString()} TL | Alan: ${ilan.alan} m²`;
    content.appendChild(fiyatAlanDiv);

    if (loggedIn) {
      const editBtn = document.createElement("button");
      editBtn.textContent = "Düzenle";
      editBtn.style.marginTop = "12px";
      editBtn.style.backgroundColor = "#273c75";
      editBtn.style.color = "white";
      editBtn.style.border = "none";
      editBtn.style.borderRadius = "8px";
      editBtn.style.padding = "8px 14px";
      editBtn.style.cursor = "pointer";
      editBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        openEditModal(ilan.id);
      });
      content.appendChild(editBtn);
    }

    card.appendChild(content);

    card.addEventListener("click", () => {
      showDetail(ilan.id);
    });

    ilanlarEl.appendChild(card);
  });
}

function showDetail(id) {
  const ilan = ilanlar.find((i) => i.id === id);
  if (!ilan) return;
  detailTitle.textContent = ilan.title;
  detailDesc.textContent = ilan.description;
  detailFiyatAlan.textContent = `Fiyat: ${ilan.fiyat.toLocaleString()} TL`;
  detailAlan.textContent = `Alan: ${ilan.alan} m²`;

  if (ilan.photos.length > 0) {
    detailImg.src = ilan.photos[0];
    detailImg.alt = ilan.title;

    if (ilan.photos.length > 1) {
      detailAdditionalImg.src = ilan.photos[1];
      detailAdditionalImg.alt = ilan.title + " - Ek fotoğraf";
      detailAdditionalImg.style.display = "block";
    } else {
      detailAdditionalImg.style.display = "none";
    }
  } else {
    detailImg.src = "https://via.placeholder.com/600x400?text=Fotoğraf+Yok";
    detailImg.alt = "Fotoğraf yok";
    detailAdditionalImg.style.display = "none";
  }

  ilanlarEl.style.display = "none";
  detailView.style.display = "flex";
}

backBtn.addEventListener("click", () => {
  detailView.style.display = "none";
  ilanlarEl.style.display = "flex";
});

loginForm.addEventListener("submit", (e) => {
  e.preventDefault();
  const username = document.getElementById("username").value.trim();
  const password = document.getElementById("password").value.trim();

  if (username === adminUser && password === adminPass) {
    loggedIn = true;
    loginForm.style.display = "none";
    logoutBtn.style.display = "inline-block";
    newIlanBtn.style.display = "inline-block";
    renderIlanlar();
  } else {
    alert("Hatalı kullanıcı adı veya şifre!");
  }
});

logoutBtn.addEventListener("click", () => {
  loggedIn = false;
  loginForm.style.display = "flex";
  logoutBtn.style.display = "none";
  newIlanBtn.style.display = "none";
  renderIlanlar();
  closeEditModal();
  detailView.style.display = "none";
  ilanlarEl.style.display = "flex";
});

newIlanBtn.addEventListener("click", () => {
  editingIlanId = null;
  openEditModal();
});

function openEditModal(id = null) {
  if (id !== null) {
    const ilan = ilanlar.find((i) => i.id === id);
    if (!ilan) return;

    editingIlanId = id;
    editTitle.value = ilan.title;
    editDescription.value = ilan.description;
    editFiyat.value = ilan.fiyat;
    editAlan.value = ilan.alan;
    editSold.checked = ilan.sold;
    editFoto.value = "";
  } else {
    editingIlanId = null;
    editTitle.value = "";
    editDescription.value = "";
    editFiyat.value = "";
    editAlan.value = "";
    editSold.checked = false;
    editFoto.value = "";
  }

  modalOverlay.style.display = "block";
  editModal.style.display = "flex";
}

function closeEditModal() {
  modalOverlay.style.display = "none";
  editModal.style.display = "none";
}

function readFileAsDataURL(file) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onload = e => resolve(e.target.result);
    reader.onerror = e => reject(e);
    reader.readAsDataURL(file);
  });
}

saveBtn.addEventListener("click", async () => {
  const title = editTitle.value.trim();
  const description = editDescription.value.trim();
  const fiyat = Number(editFiyat.value);
  const alan = Number(editAlan.value);
  const sold = editSold.checked;

  if (!title || !description || !fiyat || !alan) {
    alert("Lütfen tüm alanları eksiksiz doldurun.");
    return;
  }

  let photos = [];
  if (editingIlanId !== null) {
    const ilan = ilanlar.find(i => i.id === editingIlanId);
    photos = ilan.photos.slice();
  }

  if (editFoto.files.length > 0) {
    try {
      const base64 = await readFileAsDataURL(editFoto.files[0]);
      photos.push(base64);
    } catch {
      alert("Fotoğraf yüklenirken hata oluştu.");
      return;
    }
  }

  if (editingIlanId === null) {
    ilanlar.push({
      id: ilanlar.length ? ilanlar[ilanlar.length - 1].id + 1 : 1,
      title,
      description,
      fiyat,
      alan,
      photos,
      sold,
    });
  } else {
    const ilan = ilanlar.find(i => i.id === editingIlanId);
    ilan.title = title;
    ilan.description = description;
    ilan.fiyat = fiyat;
    ilan.alan = alan;
    ilan.sold = sold;
    ilan.photos = photos;
  }

  closeEditModal();
  renderIlanlar();
});

cancelBtn.addEventListener("click", () => {
  closeEditModal();
});

modalOverlay.addEventListener("click", () => {
  closeEditModal();
});

renderIlanlar();
  </script>

</body>
</html>

   
